<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Declaration Form</title>
    <link rel="stylesheet" href="SecondBranchC.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Health Declaration Form</h1>
            <p>Please report any symptoms that you or the other person is currently experiencing</p>
        </div>
        <div class="form-content">
            <form id="symptomForm" onsubmit="handleSubmit(event)">
                <!-- Personal Information Section -->
                <div class="section">
                    <h3>Personal Information</h3>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" name="name" required placeholder="Enter your full name">
                        </div>
                        <div class="form-group">
                            <label for="gender">Gender</label>
                            <select id="gender" name="gender" required>
                                <option value="">Select gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="age">Age</label>
                            <input 
                                type="number" 
                                id="age" 
                                name="age" 
                                placeholder="Enter your age" 
                                min="6" 
                                max="50" 
                                step="1" 
                                required
                            >
                            <small class="error-message">Please enter an age between 6 and 50.</small>
                        </div>
                        <div class="form-group">
                            <label for="grade">Grade/Level</label>
                            <select id="grade" name="grade">
                                <option value="">Select grade</option>
                                <option value="Elementary">Elementary</option>
                                <option value="Highschool">JHS</option>
                                <option value="SHS">SHS</option>
                                <option value="Teacher">Teacher</option>
                                <option value="Staff">Staff</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label for="section">Grade/Strand/Section</label>
                            <input type="text" id="section" name="section" placeholder="e.g., 12, ICT, 1P">
                        </div>
                        <div class="form-group">
                            <label for="adviserName">Adviser/Teacher Name</label>
                            <input type="text" id="adviserName" name="adviserName" placeholder="Enter adviser's name">
                        </div>
                    </div>
                </div>

                <!-- Symptoms Selection Section -->
                <div class="section">
                    <h3>Current Symptoms</h3>
                    <div class="symptoms-grid">
                        <div class="symptom-item">
                            <input type="checkbox" id="fever" name="symptoms" value="Fever">
                            <label for="fever">Fever/Lagnat</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="cough" name="symptoms" value="Cough">
                            <label for="cough">Cough/Ubo</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="headache" name="symptoms" value="Headache">
                            <label for="headache">Headache/Pananakit ng ulo</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="soreThroat" name="symptoms" value="Sore throat">
                            <label for="soreThroat">Sore throat/Pananakit at Nangangati ng Lalamunan</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="runnyNose" name="symptoms" value="Runny nose">
                            <label for="runnyNose">Runny nose/Sipon</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="fatigue" name="symptoms" value="Fatigue">
                            <label for="fatigue">Fatigue/Pagkapagod</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="nausea" name="symptoms" value="Nausea">
                            <label for="nausea">Nausea/Pagduduwal at Pagsusuka</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="dizziness" name="symptoms" value="Dizziness">
                            <label for="dizziness">Dizziness/Pagkahilo</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="shortnessOfBreath" name="symptoms" value="Shortness of breath">
                            <label for="shortnessOfBreath">Shortness of breath/Kinakapos na Paghinga</label>
                        </div>
                        <div class="symptom-item">
                            <input type="checkbox" id="bodyAches" name="symptoms" value="Body aches">
                            <label for="bodyAches">Body aches/Pananakit ng Katawan</label>
                        </div>
                    </div>

                    <!-- Custom Symptom Input -->
                    <div class="custom-symptom">
                        <input type="text" id="customSymptom" placeholder="Enter other symptoms not listed">
                        <button type="button" onclick="addCustomSymptom()">Add</button>
                    </div>

                    <!-- Selected Symptoms Display -->
                    <div id="selectedSymptoms" class="selected-symptoms" style="display: none;">
                        <h4>Selected Symptoms:</h4>
                        <div id="symptomTags"></div>
                    </div>
                </div>

                <button type="submit">Submit Symptom Report</button>
            </form>
        </div>
    </div>

    <script>
        let selectedSymptoms = [];

        function addCustomSymptom() {
            const customInput = document.getElementById('customSymptom');
            const symptom = customInput.value.trim();
            if (symptom && !selectedSymptoms.includes(symptom)) {
                selectedSymptoms.push(symptom);
                customInput.value = '';
                updateSymptomDisplay();
            }
        }

        function updateSymptomDisplay() {
            const container = document.getElementById('symptomTags');
            const displayDiv = document.getElementById('selectedSymptoms');
            if (selectedSymptoms.length > 0) {
                container.innerHTML = selectedSymptoms.map(s => `<span class="symptom-tag">${s}</span>`).join('');
                displayDiv.style.display = 'block';
            } else {
                displayDiv.style.display = 'none';
            }
        }

        // Listen for checkbox changes
        document.querySelectorAll('input[name="symptoms"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                if (this.checked) {
                    selectedSymptoms.push(this.value);
                } else {
                    selectedSymptoms = selectedSymptoms.filter(s => s !== this.value);
                }
                updateSymptomDisplay();
            });
        });

        function handleSubmit(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const symptoms = Array.from(document.querySelectorAll('input[name="symptoms"]:checked')).map(cb => cb.value);
            symptoms.push(...selectedSymptoms); // Include custom ones
            const data = Object.fromEntries(formData) || {};
            data.symptoms = symptoms;
            console.log('Form submitted:', data);
            alert('Symptom report submitted successfully!\n\nData:\n' + JSON.stringify(data, null, 2));

            // ðŸ”„ Automatically refresh after 2 seconds
            setTimeout(() => {
                location.reload();
            }, 2000);
        }
    </script>
</body>
</html>
